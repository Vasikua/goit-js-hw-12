{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport axios from \"axios\";\n\n\n\nconst KEY = '42549902-185aac32f1223c9241b6c0bc7';\nconst BASE_URI = 'https://pixabay.com/api/';\nconst loader = document.querySelector('.loader');\n\nexport async function getImages(QUERY) {\n    loader.style.display = 'block';\n    try {\n        const response = await axios.get(BASE_URI, {\n            params: {\n                key: KEY,\n                q: QUERY,\n                image_type: 'photo',\n                orientation: 'horizontal',\n                safesearch: true,\n                page: 1,\n                per_page: 15,\n            },\n        });\n        const data = response.data;\n        if (data.hits.length === 0) {\n                    iziToast.error({\n                        position: 'topRight',\n                        message: (\"Sorry, there are no images matching your search query. Please try again!\")\n                    });\n        }\n                   \n                loader.style.display = 'none';\n                 return data;\n    } catch (error) {\n    console.error('Error ', error.message);\n        }\n}\n\n","\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst gallery = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('.add-content');\nconst lightbox = new SimpleLightbox(\".gallery a\", {\n    captionPosition: 'bottom',\n    captionDelay: '250',\n    captionsData: 'alt',\n    close: true,\n    animationSpeed: 200,\n    preloading: true,\n    loop:\ttrue,\n    scaleImageToRatio: true,\n    scrollZoomFactor: 0.9,\n    overlay: true,\n    overlayOpacity: 1.0,\n    spinner:\ttrue\n});\nexport function renderData(data) {\n\n    \n       const img = data.hits;\n       const arrayOfImg = img.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n                return `<li class=\"list-link\">\n                            \n                                <a href=\"${largeImageURL}\">\n                                <img class=\"gallery-links\" src=\"${webformatURL}\" alt=\"${tags}\"></a>\n                            \n                                <div class=\"parameters\">\n                                    <ul class=\"parameters-list\">\n                                        <li class=\"parameters-list-item\">likes:</li>\n                                        <li class=\"parameters-list-item\">${likes}</li>\n                                    </ul>\n                                    <ul class=\"parameters-list\">\n                                        <li class=\"parameters-list-item\">views:</li>\n                                        <li class=\"parameters-list-item\">${views}</li>\n                                    </ul>\n                                    <ul class=\"parameters-list\">\n                                        <li class=\"parameters-list-item\">comments:</li>\n                                        <li class=\"parameters-list-item\">${comments}</li>\n                                    </ul>\n                                    <ul class=\"parameters-list\">\n                                        <li class=\"parameters-list-item\">downloads:</li>\n                                        <li class=\"parameters-list-item\">${downloads}</li>\n                                    </ul>\n                            </div>\n                            </li>`\n       }).join('');\n        \n    gallery.insertAdjacentHTML('beforeend', arrayOfImg);\n    if (arrayOfImg.length > 0) {\n        loadMoreBtn.style.display = 'block';\n    }\n    \n    lightbox.refresh();\n      \n};\n","import { getImages } from \"./js/pixabay-api\";\nimport { renderData } from \"./js/render-functions\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nlet page; \nlet per_page;\nconst gallery = document.querySelector('.gallery');\nconst form = document.querySelector('form');\nconst loadMoreBtn = document.querySelector('.add-content');\n\n\nform.addEventListener('submit', (event) => {\n\n    event.preventDefault();\n    gallery.innerHTML = \"\";\n    const QUERY = event.target.elements.serchfield.value.trim();\n    if (QUERY.length > 0) {\n       \n       getImages(QUERY).then((data) => renderData(data));\n       page = 1;\n       per_page = QUERY;\n        form.reset();\n    }\n    else {\n        loadMoreBtn.style.display = 'none';\n    }\n});\n\n\nloadMoreBtn.addEventListener('click', (event) => {\n    page++;\n    const QUERY = per_page;\n    getImages(QUERY).then((data) => renderData(data));\n    endOFTheList()\n    \n });\n\nfunction endOFTheList() {\n    if (data.totalHits <= array) {\n        loadMoreBtn.style.display = 'none';\n        iziToast.error({\n            message: (\"We're sorry, but you've reached the end of search results.\")\n        });\n\n    }\n}"],"names":["KEY","BASE_URI","loader","getImages","QUERY","data","axios","iziToast","error","gallery","loadMoreBtn","lightbox","SimpleLightbox","renderData","arrayOfImg","webformatURL","largeImageURL","tags","likes","views","comments","downloads","per_page","form","event","endOFTheList"],"mappings":"owBAMA,MAAMA,EAAM,qCACNC,EAAW,2BACXC,EAAS,SAAS,cAAc,SAAS,EAExC,eAAeC,EAAUC,EAAO,CACnCF,EAAO,MAAM,QAAU,QACvB,GAAI,CAYA,MAAMG,GAXW,MAAMC,EAAM,IAAIL,EAAU,CACvC,OAAQ,CACJ,IAAKD,EACL,EAAGI,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAM,EACN,SAAU,EACb,CACb,CAAS,GACqB,KACtB,OAAIC,EAAK,KAAK,SAAW,GACbE,EAAS,MAAM,CACX,SAAU,WACV,QAAU,0EAClC,CAAqB,EAGLL,EAAO,MAAM,QAAU,OACfG,CACnB,OAAQG,EAAO,CAChB,QAAQ,MAAM,SAAUA,EAAM,OAAO,CAChC,CACT,CChCA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAW,IAAIC,EAAe,aAAc,CAC9C,gBAAiB,SACjB,aAAc,MACd,aAAc,MACd,MAAO,GACP,eAAgB,IAChB,WAAY,GACZ,KAAM,GACN,kBAAmB,GACnB,iBAAkB,GAClB,QAAS,GACT,eAAgB,EAChB,QAAS,EACb,CAAC,EACM,SAASC,EAAWR,EAAM,CAI1B,MAAMS,EADMT,EAAK,KACM,IAAI,CAAC,CAAE,aAAAU,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAClF;AAAA;AAAA,2CAEoBL,CAAa;AAAA,kEACUD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,2EAKjBC,CAAK;AAAA;AAAA;AAAA;AAAA,2EAILC,CAAK;AAAA;AAAA;AAAA;AAAA,2EAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,2EAIRC,CAAS;AAAA;AAAA;AAAA,kCAI5E,EAAE,KAAK,EAAE,EAEbZ,EAAQ,mBAAmB,YAAaK,CAAU,EAC9CA,EAAW,OAAS,IACpBJ,EAAY,MAAM,QAAU,SAGhCC,EAAS,QAAO,CAEpB,CCpDA,IAAIW,EACJ,MAAMb,EAAU,SAAS,cAAc,UAAU,EAC3Cc,EAAO,SAAS,cAAc,MAAM,EACpCb,EAAc,SAAS,cAAc,cAAc,EAGzDa,EAAK,iBAAiB,SAAWC,GAAU,CAEvCA,EAAM,eAAc,EACpBf,EAAQ,UAAY,GACpB,MAAML,EAAQoB,EAAM,OAAO,SAAS,WAAW,MAAM,OACjDpB,EAAM,OAAS,GAEhBD,EAAUC,CAAK,EAAE,KAAMC,GAASQ,EAAWR,CAAI,CAAC,EAEhDiB,EAAWlB,EACVmB,EAAK,MAAK,GAGVb,EAAY,MAAM,QAAU,MAEpC,CAAC,EAGDA,EAAY,iBAAiB,QAAUc,GAAU,CAG7CrB,EADcmB,CACC,EAAE,KAAMjB,GAASQ,EAAWR,CAAI,CAAC,EAChDoB,EAAc,CAElB,CAAE,EAEF,SAASA,GAAe,CAChB,KAAK,WAAa,QAClBf,EAAY,MAAM,QAAU,OAC5BH,EAAS,MAAM,CACX,QAAU,4DACtB,CAAS,EAGT"}